\providecommand{\setflag}{\newif \ifwhole \wholefalse}
\setflag
\ifwhole\else
\documentclass[letterpaper]{scrbook}
\usepackage[inner=3cm,top=2.5cm,outer=3.5cm]{geometry}

% \documentclass{svmono}
\usepackage[utf8]{inputenc}
\usepackage[pdftex]{graphicx}
\graphicspath{{_include/}}
\DeclareGraphicsExtensions{.png,.pdf}

\usepackage{microtype}
\usepackage{hyperref}
\usepackage{color}
\definecolor{slateblue}{rgb}{0.07,0.07,0.488}
\hypersetup{colorlinks=true,linkcolor=slateblue,anchorcolor=slateblue,citecolor=slateblue,filecolor=slateblue,urlcolor=slateblue,bookmarksnumbered=true,pdfview=FitB}

\usepackage{colortbl}
\usepackage{pdfsync}
\usepackage{alltt}
\usepackage{url}
\usepackage[round,sort&compress,sectionbib]{natbib}
\bibliographystyle{plainnat}

\usepackage[small]{caption2}
\usepackage[small]{titlesec}

\renewcommand\familydefault{bch}

%\setcounter{secnumdepth}{-1}

\title{ggplot2}
\author{Hadley Wickham}


\newcommand{\secref}[1]{\ref{#1} (\pageref{#1})}


%% begin - to go to preamble
\edef\BarAtCode{\the\catcode`\@}
\catcode`\@=11\relax
\newlength{\bar@leftskip}
\newlength{\bar@barwidth}
\newlength{\bar@sepwidth}
\newlength{\bar@textwidth}

\newcommand{\bardefault}{%
  \setlength{\bar@leftskip}{0pt}%
  \setlength{\bar@barwidth}{8pt}%
  \setlength{\bar@sepwidth}{8pt}%
}

\newcommand{\bar@settextwidth}{%
  \setlength{\bar@textwidth}{\textwidth}%
  \addtolength{\bar@textwidth}{-\bar@leftskip}%
  \addtolength{\bar@textwidth}{-\bar@sepwidth}%
  \addtolength{\bar@textwidth}{-\bar@barwidth}%
  \addtolength{\bar@textwidth}{-\leftmargin}%
  \addtolength{\bar@textwidth}{-4pt}%
}

\bardefault\bar@settextwidth
\newenvironment{sidebar}[1][\obeylines]{\par\bigskip\noindent%
  \setlength{\tabcolsep}{0pt}
  \begin{tabular}{l>{\columncolor[gray]{.75}}rcl}%
    \hspace*{\bar@leftskip}&%
    \hspace*{\bar@barwidth}&%
    \hspace*{\bar@sepwidth}&%
    \begin{minipage}[b]{\bar@textwidth}%
      #1}{\end{minipage}\end{tabular}\par\medskip}

\newcommand{\barleftskip}[1]{\setlength{\bar@leftskip}{#1}\bar@settextwidth}
\newcommand{\barbarwidth}[1]{\setlength{\bar@barwidth}{#1}\bar@settextwidth}
\newcommand{\barsepwidth}[1]{\setlength{\bar@sepwidth}{#1}\bar@settextwidth}

\catcode`\@=\BarAtCode\relax
%% end



\raggedbottom

\begin{document}
\fi
