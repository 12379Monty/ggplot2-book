\documentclass[letterpaper]{scrartcl}
\input{_common}
\input{highlight}

\begin{document}

% FIGURE
%   GG-WIDTH: 4  GG-HEIGHT: 4
%   TEX-WIDTH: 4in INLINE: TRUE
%   LABEL: test
%   CAPTION: This is a caption which describes the figure
% 
% qplot(mpg, wt, data = mtcars)
% qplot(wt, mpg, data = mtcars)

This is latex in here.  There is no end statement so this shouldn't be chopped off.

  % OUTPUT
  %   INLINE: FALSE
  %
  % # This code should be syntax highlighted
  % # and indented (in source)
  % a <- 1
  % b <- function(x, y, z) {
  %   print(x, y, z)
  %   "This is a string"
  % }
  \noindent
  \ttfamily
  \hlstd{}\hlslc{\# This code should be syntax highlighted}\hspace*{\fill}\\
  \hlstd{}\hlslc{\# and indented}\hspace*{\fill}\\
  \hlstd{a }\hlsym{$<${-} }\hlstd{}\hlnum{1}\hspace*{\fill}\\
  \hlstd{b }\hlsym{$<${-} }\hlstd{}\hlkwa{function}\hlstd{}\hlsym{(}\hlstd{x}\hlsym{, }\hlstd{y}\hlsym{, }\hlstd{z}\hlsym{) \{}\hspace*{\fill}\\
  \hlstd{}\hlstd{\ \ }\hlstd{print}\hlsym{(}\hlstd{x}\hlsym{, }\hlstd{y}\hlsym{, }\hlstd{z}\hlsym{)}\hspace*{\fill}\\
  \hlstd{}\hlsym{\}}\hlstd{}\hspace*{\fill}\\
  \mbox{}
  \normalfont
  % END
    
\end{document}
